@model Library.ViewModels.Book.BookCreateViewModel
@if (ViewData["ModalMessage"] != null && !string.IsNullOrEmpty(ViewData["ModalMessage"].ToString()))
{
    @Html.Partial("_ResultModal")
}
    <div id="mainContent">
<h2>Add book</h2>
<hr />
@using (Html.BeginForm("Create", "Book", FormMethod.Post, new { @enctype = "multipart/form-data" }))
{
    <div class="form col-lg-3">
        <div class="form-group col-md-4">
            <img id="bookImg" class="imageContainer" src="~/Content/no-image.png"/>
            @Html.TextBoxFor(m => m.Image, new { type = "file", @class = "form-control imageInput ", @id= "imgInput"})
            @Html.ValidationMessageFor(m => m.Image, "", new { @class = "text-danger" })


        </div>
    </div>
    <div class="form col-lg-9">
        <div class="row">
            <div class="form-group col-md-4">
                @Html.LabelFor(x => x.BookName, new { @class = "form-control-label" })
                @Html.TextBoxFor(x => x.BookName, new { @class = "form-control" })
                @Html.ValidationMessageFor(x => x.BookName)
            </div>
            <div class="form-group col-md-4">
                @Html.LabelFor(x => x.BookAuthor, new { @class = "form-control-label" })
                @Html.TextBoxFor(x => x.BookAuthor, new { @class = "form-control" })
                @Html.ValidationMessageFor(x => x.BookAuthor)
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-4">
                @Html.LabelFor(x => x.BookSize, new { @class = "form-control-label" })
                @Html.TextBoxFor(x => x.BookSize, new { @class = "form-control" })
                @Html.ValidationMessageFor(x => x.BookSize)
            </div>
            <div class="form-group col-md-4">
                @Html.LabelFor(x => x.PublishingHouse, new { @class = "form-control-label" })
                @Html.TextBoxFor(x => x.PublishingHouse, new { @class = "form-control" })
                @Html.ValidationMessageFor(x => x.PublishingHouse)
            </div>
         </div>
        <div class="row">
            <div class="form-group col-md-8">
                @Html.LabelFor(x => x.Quantity, new { @class = "form-control-label" })
                @Html.TextBoxFor(x=> x.Quantity, new {@class="form-control" })
                @Html.ValidationMessageFor(x=> x.Quantity)
                <div class="form-group" style="margin-top:30px">
                    <button class="btn btn-success pull-right" style="width:100px;" type="submit">Add</button>
                </div>
            </div>
        </div>
      </div>
  
}
</div>

<script>
    function readURL(input) {

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#bookImg').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#imgInput").change(function () {
        readURL(this);
    });
</script>
